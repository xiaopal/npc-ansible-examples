---
npc_config:
  instance_image: Debian 8.6
  instance_type:
    cpu: 1
    memory: 2G 
  ssh_key: 
    name: ansible
npc_instances: 
  - name: 'docker-manager-{1..3}'
    groups:
      - docker
      - manager
    vars:
      swarm_node:
        role: manager
        availability: drain
  - &worker 
    name: 'docker-worker-{1..3}'
    groups:
      - docker
      - worker
    vars:
      swarm_node:
        role: worker
        labels:
          - npc.worker=Y
  - <<: *worker
    name: 'docker-ingress-{1..3}'
    groups:
      - docker
      - worker
      - ingress
    vars:
      swarm_node:
        role: worker
        labels: 
          - npc.worker=Y
          - npc.ingress=Y
